<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Anime Card</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="root">

  <!-- BACKGROUND -->
  <div class="bg"></div>
  <div class="bg-blur"></div>

  <!-- BRAND PILL -->
  <div class="brand-pill">
    <span class="menu-icon">â˜°</span>
    <span class="brand-text" id="brand"></span>
  </div>

  <!-- GENRES -->
  <div class="genres" id="genres"></div>

  <!-- MAIN CENTER -->
  <div class="main">

    <!-- INFO BOX -->
    <div class="glass info">

      <div class="badge" id="badge"></div>

      <h1 id="title"></h1>
      <h2 id="subtitle"></h2>

      <div class="meta">
        <div class="meta-dark">
          <small>Studio</small>
          <span id="studio"></span>
        </div>
        <div class="meta-light">
          <small>Arc</small>
          <span id="arc"></span>
        </div>
      </div>

      <p class="synopsis" id="synopsis"></p>

    </div>

    <!-- CHARACTER IMAGE -->
    <div class="character">
      <img id="character">
    </div>

  </div>

</div>

<script>
fetch("/data/poster.json")
.then(res => res.json())
.then(d => {

  document.documentElement.style.setProperty(
    "--accent",
    d.accentColor || "#6fffd6"
  );

  document.querySelector(".bg").style.backgroundImage =
    `url(${d.backgroundImage})`;

  document.getElementById("brand").innerText =
    d.brand || "";

  document.getElementById("title").innerText =
    d.title || "";

  document.getElementById("subtitle").innerText =
    d.subtitle || "";

  document.getElementById("badge").innerText =
    d.badge || "";

  document.getElementById("studio").innerText =
    d.studio || "";

  document.getElementById("arc").innerText =
    d.arc || "";

  document.getElementById("synopsis").innerText =
    d.synopsis || "";

  document.getElementById("character").src =
    d.characterImage;

  if (d.genres) {
    document.getElementById("genres").innerHTML =
      d.genres.split(",")
      .map(g => `<span>${g.trim()}</span>`)
      .join("");
  }
});
</script>

</body>
</html>
