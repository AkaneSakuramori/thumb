<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="root">

  <div class="top-nav" id="nav"></div>

  <div class="glass main">
    <div class="badge" id="badge"></div>

    <h1 id="title"></h1>
    <h2 id="subtitle"></h2>

    <div class="meta">
      <div><b>Studio</b><span id="studio"></span></div>
      <div><b>Status</b><span id="status"></span></div>
      <div><b>Arc</b><span id="arc"></span></div>
      <div><b>Schedule</b><span id="schedule"></span></div>
    </div>

    <p id="synopsis"></p>

    <div class="genres" id="genres"></div>

    <div class="rating" id="rating"></div>
  </div>

  <div class="preview">
    <img id="character">
  </div>

</div>

<script>
fetch("/data/poster.json")
.then(r => r.json())
.then(d => {
  document.body.style.backgroundImage = `url(${d.backgroundImage})`;
  document.documentElement.style.setProperty("--accent", d.accentColor);

  title.innerText = d.title;
  subtitle.innerText = d.subtitle;
  synopsis.innerText = d.synopsis;
  character.src = d.characterImage;

  badge.innerText = d.badge || "";

  studio.innerText = d.studio;
  status.innerText = d.status;
  arc.innerText = d.arc;
  schedule.innerText = d.schedule;
  rating.innerText = d.rating;

  if (d.nav)
    nav.innerHTML = d.nav.split(",").map(i => `<span>${i.trim()}</span>`).join("");

  if (d.genres)
    genres.innerHTML = d.genres.split(",").map(g => `<span>${g.trim()}</span>`).join("");
});
</script>

</body>
</html>
